<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/jquery.gritter.css" rel="stylesheet">
    <link href="css/qwp.css" rel="stylesheet">
    <title></title>
    <script>
        var _LANG = {};
        var qwp={
            _r:[],
            r: function(f){qwp._r.push(f);},
            isEmpty: function(o){return !o || !o.length;}
        };
    </script>
</head>
<body>
<br />
<div id="test_ctl" width="100px" style="background-color: #ddd;padding: 10px;margin-left: 10px;margin-right: 10px;position: relative">
    <div id="test_radio"></div>
    <a id="test_uri" href="#">URI</a><br />
    <a href="#" onclick="qwp.loading.gif.show('#test_ctl')">Show loading image</a><br /><a href="#" onclick="qwp.loading.gif.hide('#test_ctl')">Hide loading image</a>
</div>
<br/>
<div id="test_container" class="row qwp-table" style="margin-left: 50px;margin-right: 50px;"></div>
<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.slimscroll.min.js"></script>
<script src="js/jquery.gritter.min.js"></script>
<script src="js/qwp.js"></script>
<script src="ui/loading.js"></script>
<script src="ui/table.js"></script>
<script>
function fetchTestData(page, psize, sortf, sort) {
    qwp.table.loading('test');
    qwp.get({
        quiet:true,
        url:'unit_tests/data1.txt',
        fn:function(res, data) {
            if (res.ret) {
                qwp.table.update('test', data, page, psize, sortf, sort);
            } else {
                qwp.table.stopLoading('test');
            }
        }
    });
    return false;
}
function addNewUser() {
    qwp.notice('Add a new user message');
}
function editUser() {
    qwp.notice('Edit user message');
}
qwp.r(function(){
    $("#test_radio").html($H.radio({class:'aaa'}) + '&nbsp;Test radio');
    $("#test_uri").attr('href', qwp.uri.module('sample', {
        a: {
            one: 1,
            two: 2,
            three: 'a test'
        },
        b: [ 1, 2, 3 ]
    }));
    qwp.loading.gif.create('#test_ctl', 'img/loading_small.gif');
    qwp.table.create('#test_container', 'test', {
        fetchData: 'fetchTestData',
        btns: {
            new:{
                click: 'addNewUser',
                tooltip:'Create a new user'
            },
            edit:{
                click: 'editUser',
                tooltip:'Edit user information'
            },
            del:{
                click: function() {
                    qwp.notice('Delete user message');
                },
                tooltip:'Delete selected users'
            }
        },
        topCols:{
            left:4,
            right:8
        },
        sortf:'age',
        header:[['name', $L('Name'), 200, true],['age', $L('Age'), 30, true],['phone', $L('Phone'), 80]]
    });
    qwp.table.loading('test');
});
$READY();
</script>
</body>
</html>